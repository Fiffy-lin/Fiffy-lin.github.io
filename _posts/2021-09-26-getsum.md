---
layout: post
title: "刷题记录-两整数之和"
subtitle: ""
date: 2021-09-26
author: "Fiffy"
header-img: "img/post-bg-2015.jpg"
tags: ["Leetcode","位运算"]
---

# 题目描述

给你两个整数 a 和 b ，不使用 运算符 `+` 和 `-` ，计算并返回两整数之和。

示例 1：

```
输入：a = 1, b = 2
输出：3
```

示例 2：

```
输入：a = 2, b = 3
输出：5
```


提示：

- `-1000 <= a, b <= 1000`

# 思路

看到不能用运算符 `+` 和 `-` 基本就确定要用位运算了。

通过分析单位二进制加法的结果，可以发现能拆为无进位相加和进位两部分，无进位相加可以用 `a ^ b` 实现，进位则是 `(a & b) << 1` 。按照这个思路递归下去，直到进位为 0.

这题的数据范围内有负数，稍微麻烦一点。首先得益于补码，负数和正数是可以直接加的，但是负数不能进行移位操作。`a & b` 的时候是可能产生负数的，借助 `unsigned int` 来避免这个问题。

# 代码

```c++
class Solution {
public:
    int getSum(int a, int b) {
        return b ? getSum(a ^ b, uint(a & b) << 1) : a;
    }
};
```

