---
layout: post
title: "刷题记录-四数之和"
subtitle: ""
date: 2021-10-09
author: "Fiffy"
header-img: "img/post-bg-2015.jpg"
tags: ["Leetcode","双指针"]
---

# 题目

给你一个由 `n` 个整数组成的数组 `nums` ，和一个目标值 `target` 。请你找出并返回满足下述全部条件且不重复的四元组 `[nums[a], nums[b], nums[c], nums[d]]` ：

`0 <= a, b, c, d < n`
`a`、`b`、`c` 和 `d` **互不相同**
`nums[a] + nums[b] + nums[c] + nums[d] == target`
你可以按 **任意顺序** 返回答案 。 

示例 1：

```
输入：nums = [1,0,-1,0,-2,2], target = 0
输出：[[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]
```

示例 2：

```
输入：nums = [2,2,2,2,2], target = 8
输出：[[2,2,2,2]]
```


提示：

- `1 <= nums.length <= 200`
- `-10^9 <= nums[i] <= 10^9`
- `-10^9 <= target <= 10^9`

# 思路

排序，枚举前两位，用双指针解决后两位。

注意不能有相同元素，因此枚举前两位时要注意跳过枚举过的相同元素，双指针处理后两位时也要跳过相同元素。

还可以继续剪枝，在枚举前两位时计算最大/最小的四元组是否符合要求。

# 代码

```c++
class Solution {
public:
    vector<vector<int>> fourSum(vector<int> &nums, int target) {
        vector<vector<int>> ans;
        sort(nums.begin(), nums.end());
        int len = nums.size();
        for (int first = 0; first < len - 3; ++first) {
            if (first > 0 && nums[first] == nums[first - 1]) continue;
            if ()
            for (int second = first + 1; second < len - 2; ++second) {
                if (second > first + 1 && nums[second] == nums[second - 1]) continue;
                int third = second + 1, last = len - 1;
                while (third < last) {
                    long long sum = (long long)nums[first] + nums[second] + nums[third] + nums[last];
                    if (sum == target) {
                        ans.push_back({nums[first], nums[second], nums[third], nums[last]});
                        do ++third; while (third < len && nums[third] == nums[third - 1]);
                        do --last; while (last >= 0 && nums[last] == nums[last + 1]);
                    } else if (sum > target) {
                        do --last; while (last >= 0 && nums[last] == nums[last + 1]);
                    } else
                        do ++third; while (third < len && nums[third] == nums[third - 1]);
                }
            }
        }
        return ans;
    }
};
```

